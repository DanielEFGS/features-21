<section class="demo">
  <header class="demo-header">
    <div>
      <p class="eyebrow">DI</p>
      <h3>Notes service scope</h3>
      <p class="subtitle">Inject a shared service and see how provider scope changes state.</p>
    </div>
    <div class="scope-pill">
      <p class="scope-label">Provider scope</p>
      <p class="scope-value">{{ scopeLabel() }}</p>
    </div>
  </header>

  <div class="input-row">
    <label class="field-label" for="di-note">New note</label>
    <div class="input-actions">
      <input
        #noteInput
        id="di-note"
        type="text"
        [value]="inputValue()"
        (input)="updateValue(noteInput.value)"
        autocomplete="off"
      />
      <button type="button" (click)="addNote()" [disabled]="isEmpty()">Add</button>
      <button type="button" class="ghost" (click)="clearNotes()" [disabled]="notes().length === 0">
        Clear
      </button>
    </div>
  </div>

  <div class="list">
    <p class="list-title">Shared notes</p>
    @if (notes().length === 0) {
      <p class="empty">Add a note to see it shared within this component scope.</p>
    } @else {
      <ul>
        @for (note of notes(); track note.text) {
          <li>
            <span class="note-text">{{ note.text }}</span>
            <span class="note-tag">{{ note.source }}</span>
          </li>
        }
      </ul>
    }
  </div>
</section>
